!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t){var r=window.iframely=window.iframely||{};r.config=r.config||{},e.exports=r},function(e,t,r){var n=r(0),i=r(2);n.on("init",function(){n.extendOptions(function(){for(var e=document.querySelectorAll('script[src*="embed.js"], script[src*="iframely.js"]'),t=0;t<e.length;t++){var r=e[t].getAttribute("src").replace(/&amp;/gi,"&");if(n.SCRIPT_RE.test(r)){var i=d(r,n.SUPPORTED_QUERY_STRING.concat("cdn")),o=r.match(n.CDN_RE);if((o||i.cdn)&&(n.CDN=i.cdn||o[1]),Object.keys(i).length>0)return i}}return{}}()),function(){var e=document.getElementById("iframely-styles");if(!e){var t=".iframely-responsive{top:0;left:0;width:100%;height:0;position:relative;padding-bottom:56.25%;box-sizing:border-box;}.iframely-responsive>*{top:0;left:0;width:100%;height:100%;position:absolute;border:0;box-sizing:border-box;}";(e=document.createElement("style")).id="iframely-styles",e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)}}(),function(e){for(var t=document.querySelectorAll('iframe[src*="'+(e||n.DOMAINS).join('"], iframe[src*="')+'"]'),r=0;r<t.length;r++){var o=t[r],a=o.src;(a.match(/^(https?:)?\/\/[^\/]+\/api\/iframe\?.+/)||a.match(/^(https?:)?\/\/[^\/]+\/\w+(\?.*)?$/))&&i.postMessage({method:"getSize"},"*",o.contentWindow)}}(n.DOMAINS.concat(n.CDN.replace(/^https?:\/\//,"")))}),n.load=function(){var e=Array.prototype.slice.call(arguments);e.unshift("load"),n.trigger.apply(this,e)};var o=t.getIframeWrapper=function(e,t){var r=e.parentNode;if(!(!r||"DIV"!==r.nodeName||s(r)>2||t&&r.getAttribute("class")!==n.ASPECT_WRAPPER_CLASS||!t&&"relative"!==r.style.position&&r.getAttribute("class")!==n.ASPECT_WRAPPER_CLASS)){var i=r.parentNode;if(!(!i||"DIV"!==i.nodeName||s(i)>1||t&&i.getAttribute("class")!==n.MAXWIDTH_WRAPPER_CLASS||!t&&i.getAttribute("class")&&!i.getAttribute("class").match(/iframely/i)))return{aspectWrapper:r,maxWidthWrapper:i}}};t.addDefaultWrappers=function(e){var t=e.parentNode,r=document.createElement("div");r.className=n.MAXWIDTH_WRAPPER_CLASS;var i=document.createElement("div");return i.className=n.ASPECT_WRAPPER_CLASS,r.appendChild(i),t.insertBefore(r,e),{aspectWrapper:i,maxWidthWrapper:r}},t.getWidget=function(e){var t=o(e);if(t){var r={iframe:e,aspectWrapper:t.aspectWrapper,maxWidthWrapper:t.maxWidthWrapper};if("A"===e.nodeName&&e.hasAttribute("href"))r.url=e.getAttribute("href");else if(e.hasAttribute("src")&&/url=/.test(e.getAttribute("src"))){var n=d(e.getAttribute("src"));n.url&&(r.url=n.url)}return r}},n.getElementComputedStyle=function(e,t){return window.getComputedStyle&&window.getComputedStyle(e).getPropertyValue(t)},t.setStyles=function(e,t){e&&Object.keys(t).forEach(function(r){var i=t[r];("number"==typeof i||"string"==typeof i&&/^(\d+)?\.?(\d+)$/.test(i))&&(i+="px"),window.getComputedStyle&&(n.getElementComputedStyle(e,r)==i||"iframely-responsive"==e.className&&"paddingBottom"===r&&!e.style[r]&&/^56\.2\d+%$/.test(i))||(e.style[r]=i||"")})};var a=t.addQueryString=function(e,t){var r="";return Object.keys(t).forEach(function(n){var i=t[n];if("[object Array]"===Object.prototype.toString.call(i)){var o=i.map(function(e){return n+"="+encodeURIComponent(e)});r+="&"+o.join("&")}else void 0!==i&&-1===e.indexOf(n+"=")&&(!0===i&&(i=1),!1===i&&(i=0),r+="&"+n+"="+encodeURIComponent(i))}),e+(""!==r?(e.indexOf("?")>-1?"&":"?")+r.replace(/^&/,""):"")};function s(e){for(var t=0,r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(n.nodeType===Node.TEXT_NODE){var i=n.textContent||n.innerText;(i=i.replace(/\s|\n/g,""))&&t++}else n.nodeType===Node.ELEMENT_NODE&&t++}return t}function u(e,t){for(var r,n=0;n<e.length;){if((r=e[n])==t)return!0;if(r&&r.test&&r.test(t))return!0;n++}}t.getEndpoint=function(e,t,r){var i=e;if(/^(https?:)?\/\//i.test(e)||(i=(t.CDN||n.CDN)+i,delete t.CDN),/^(?:https?:)?\/\//i.test(i)||(i="//"+i),t&&(i=a(i,t)),r&&r.length){for(var o={},s=Object.keys(n.config),d=0;d<s.length;d++){var c=s[d];u(r,c)&&(o[c]=n.config[c])}i=a(i,o)}return/^(https?:)?\/\//i.test(i)&&!i.match(/^(https?:)?\/\//i)[1]&&"file:"===document.location.protocol&&(i="http:"+i),i},n.extendOptions=function(e){e&&Object.keys(e).forEach(function(t){var r=0!==e[t]&&"0"!==e[t]&&!1!==e[t]&&"false"!==e[t]&&(1===e[t]||"1"===e[t]||!0===e[t]||"true"===e[t]||e[t]);!1!==n.config[t]&&(n.config[t]=r)})};var d=t.parseQueryString=function(e,t){var r=e.match(/\?(.+)/i);if(r){for(var n=(r=r[1]).split("&"),i={},o=0;o<n.length;o++){var a=n[o].split("=");t&&!u(t,a[0])||(i[a[0]]=decodeURIComponent(a[1]))}return i}return{}}},function(e,t,r){var n=r(0),i=r(1);function o(e,t){for(var r,n=0;n<e.length&&!r;n++){var i=e[n];i.contentWindow===t&&(r=i)}return r}!function(e){function t(t){var r;try{r=JSON.parse(t.data)}catch(e){}e(t,r)}window.postMessage&&(window.addEventListener?window[e?"addEventListener":"removeEventListener"]("message",t,!1):window[e?"attachEvent":"detachEvent"]("onmessage",t))}(function(e,t){if(t&&t.method){var r=function(e){var t;return e.src&&(t=o(document.querySelectorAll('iframe[src*="'+e.src.replace(/^https?:/,"")+'"]'),e.contentWindow)),t||(t=o(e.domains?document.querySelectorAll('iframe[src*="'+(e.domains||n.DOMAINS).join('"], iframe[src*="')+'"]'):document.getElementsByTagName("iframe"),e.contentWindow)),t}({contentWindow:e.source,src:t.context,domains:n.DOMAINS.concat(n.CDN)});if(r){var a=i.getWidget(r);a&&t.url&&(a.url=t.url),n.trigger("message",a,t)}}}),t.postMessage=function(e,t,r){window.postMessage&&("object"==typeof e&&(e.context=document.location.href),e=JSON.stringify(e),t=t||"*",(r=r||window.parent).postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")))}},function(e,t,r){var n,i=r(0);n=function(){i.trigger("load")},"complete"!==document.readyState&&"interactive"!==document.readyState||setTimeout(n,0),document.addEventListener?document.addEventListener("DOMContentLoaded",n):window.attachEvent("onload",n)},function(e,t,r){var n=r(0);n.VERSION=1,n.ASPECT_WRAPPER_CLASS="iframely-responsive",n.MAXWIDTH_WRAPPER_CLASS="iframely-embed",n.LOADER_CLASS="iframely-loader",n.DOMAINS=["cdn.iframe.ly","iframe.ly","if-cdn.com","iframely.net"],n.CDN=n.CDN||n.DOMAINS[0],n.BASE_RE=/^(?:https?:)?\/\/[^\/]+/i,n.ID_RE=/^(?:https?:)?\/\/[^\/]+\/(\w+)(?:\?.*)?$/,n.SCRIPT_RE=/^(?:https?:|file:\/)?\/\/[^\/]+(?:.+)?\/(?:embed|iframely)\.js(?:[^\/]+)?$/i,n.CDN_RE=/^(?:https?:)?\/\/([^\/]+)\/(?:embed|iframely)\.js(?:[^\/]+)?$/i,n.SUPPORTED_QUERY_STRING=["api_key","key","iframe","html5","playerjs","align","language","media","maxwidth","lazy","import","parent","click_to_play",/^_.+/],n.LAZY_IFRAME_SHOW_TIMEOUT=3e3,n.LAZY_IFRAME_FADE_TIMEOUT=200,n.CLEAR_WRAPPER_STYLES_TIMEOUT=3e3},function(e,t,r){(function(e){var t=r(0),n=function(e,t,r,n){for(;!n&&r<t.length;)n=e[t[r++]+"equestAnimationFrame"];return n&&n.bind(e)||e.setImmediate||function(t){e.setTimeout(t,0)}}("undefined"!=typeof window?window:e,"r webkitR mozR msR oR".split(" "),0),i={};function o(e,r,o){(i[e]||[]).forEach(function(e){r?n(function(){e.apply(t,o)}):e.apply(t,o)}),"init"===e&&(i[e]=[])}t.on=function(e,t){(i[e]=i[e]||[]).push(t)},t.trigger=function(e){o(e,!1,Array.prototype.slice.call(arguments,1))},t.triggerAsync=function(e){o(e,!0,Array.prototype.slice.call(arguments,1))}}).call(this,r(6))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n,i=r(2),o=r(0),a={rootMargin:"1000px 1000px 1000px 1000px"};function s(){return n||new IntersectionObserver(u,a)}function u(e){e.forEach(function(e){i.postMessage({method:"intersection",entry:{isIntersecting:e.isIntersecting}},"*",e.target.contentWindow),e.isIntersecting&&s().unobserve(e.target)})}"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&(o.on("init",function(){o.extendOptions({intersection:1})}),o.on("message",function(e,t){"send-intersections"===t.method&&e.iframe&&s().observe(e.iframe)}))},function(e,t,r){var n=r(1),i=r(0),o={};function a(e,t,r){var o,a=e.cancel,s=e.shadow,d=e.renderEvent,c=n.getIframeWrapper(t,!0);if(a)o=n.getWidget(t),i.cancelWidget(o||{maxWidthWrapper:t,iframe:t,url:t.getAttribute("href")});else{var l,p;if((o=document.createElement("div")).innerHTML=e.html,c&&!d?(l=c.aspectWrapper.parentNode,p=c.aspectWrapper,c.maxWidthWrapper.removeAttribute("style")):(l=t.parentNode,p=t),s){var f=document.createElement("div"),m=f.attachShadow({mode:"open"});m.appendChild(o);var h={shadowRoot:m,shadowContainer:f,container:l,context:e.context,stylesIds:e.stylesIds,stylesDict:r.commonShadowStyles};i.trigger("import-shadow-widget-before-render",h),l.insertBefore(f,p),i.trigger("import-shadow-widget-after-render",h)}else l.insertBefore(o,p),function e(t){function r(e){var r=e.text||e.textContent||e.innerHTML||"",n=document.createElement("script");e.src&&(n.src=e.src),n.type="text/javascript";try{n.appendChild(document.createTextNode(r))}catch(e){n.text=r}t.appendChild(n)}var n,i,o,a=[],s=t.childNodes;for(o=0;s[o];o++)i=s[o],d="script",!(u=i).nodeName||u.nodeName.toUpperCase()!==d.toUpperCase()||i.type&&"text/javascript"!==i.type.toLowerCase()&&"application/javascript"!==i.type.toLowerCase()?e(i):(a.push(i),t.removeChild(i));var u,d;for(o=0;a[o];o++)(n=a[o]).parentNode&&n.parentNode.removeChild(n),r(a[o])}(o);l.removeChild(p),d&&setTimeout(function(){u(l)},i.CLEAR_WRAPPER_STYLES_TIMEOUT)}}function s(){delete i.import;for(var e=document.querySelectorAll("a[data-iframely-url][data-import-uri]"),t=0;t<e.length;t++)e[t].removeAttribute("data-import-uri"),i.trigger("load",e[t])}function u(e){for(var t=e,r=0;t&&t.getAttribute("class")!==i.ASPECT_WRAPPER_CLASS;)t=t.parentNode,++r>4&&(t=null);var n=t&&t.parentNode;n&&n.getAttribute("class")===i.MAXWIDTH_WRAPPER_CLASS&&(t.removeAttribute("style"),t.removeAttribute("class"),n.removeAttribute("style"))}i.on("load",function(e){if(!e&&!1!==i.config.import&&document.head.attachShadow&&(i.debug||"http:"===document.location.protocol||"https:"===document.location.protocol)&&!i.config.playerjs&&!i.config.lazy&&!i.import){var t=document.querySelectorAll("a[data-iframely-url]:not([data-import-uri])");t.length>1&&function(e){var t=document.createElement("script"),r=[],a=[],u=null;function d(e,t){o[e]||(o[e]=[]),o[e].push(t)}function c(e){var t=e.getAttribute("data-iframely-url"),o=t.match(i.ID_RE),s=o&&o[1],c=n.parseQueryString(t,i.SUPPORTED_QUERY_STRING.concat("url")),l=c.url;delete c.url;var p="0"===c.import||"false"===c.import||"1"===c.playerjs||"true"===c.playerjs;if(!p){var f=t.match(i.BASE_RE);c.CDN=f&&f[0],u?JSON.stringify(c,Object.keys(c).sort())!==JSON.stringify(u,Object.keys(u).sort())&&(p=!0):u=c}if(p)i.trigger("load",e);else if(s)e.setAttribute("data-import-uri",s),-1===a.indexOf(s)&&a.push(s),d(s,e);else{l||(l=e.getAttribute("href"));var m=u.key||u.api_key||i.config.api_key||i.config.key;m&&l?(e.setAttribute("data-import-uri",l),-1===r.indexOf(l)&&r.push(l),d(l,e)):i.trigger("load",e)}}for(var l=0;l<e.length;l++){var p=e[l];!p.getAttribute("data-import-uri")&&p.hasAttribute("data-iframely-url")&&c(p)}r.length>0||a.length>0?((u=u||{}).touch=i.isTouch(),u.flash=function(){var e=!1;try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");e=!!t}catch(t){e=!(!navigator.mimeTypes||null==navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}return e}(),u.app=1,r.length>0&&(u.uri=r),a.length>0&&(u.ids=a.join("&")),u.v=i.VERSION,t.src=n.getEndpoint("/api/import/v2",u,i.SUPPORTED_QUERY_STRING),t.onerror=function(){s()},document.head.appendChild(t),i.import=t):(s(),i.trigger("load"))}(t)}}),i.on("load",function(e,t){if(e&&e.uri&&(e.html||e.cancel)){var r=o[e.uri];if(r)for(var n=0;n<r.length;n++)a(e,r[n],t);delete o[e.uri]}}),i.buildImportWidgets=function(e){i.trigger("import-loaded",e),e.widgets.forEach(function(t){i.trigger("load",t,e)}),s()},i.isTouch=function(){return"ontouchstart"in window||navigator.maxTouchPoints},i.on("import-widget-ready",u),i.addEventListener||(i.addEventListener=function(e,t,r){e&&(e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r)}),i.newUID||(i.newUID=function(){return""+Math.round(Math.random()*(new Date).getTime())})},function(e,t,r){var n=r(1),i=r(0);i.on("load",function(e,t){if(e&&e.nodeName&&"string"==typeof t){var r=document.createElement("a");r.setAttribute("href",t),e.appendChild(r),i.trigger("load",r)}}),i.on("load",function(e){if(!e&&!i.import)for(var t=document.querySelectorAll("a[data-iframely-url]:not([data-import-uri])"),r=0;r<t.length;r++)i.trigger("load",t[r])}),i.on("load",function(e){e&&"A"===e.nodeName&&(e.getAttribute("data-iframely-url")||e.getAttribute("href"))&&!e.hasAttribute("data-import-uri")&&function(e){if(!e.getAttribute("data-iframely-url")&&!e.getAttribute("href"))return;var t,r=e.getAttribute("data-iframely-url");r&&/^((?:https?:)?\/\/[^\/]+)\/\w+/i.test(r)?t=n.getEndpoint(r,{v:i.VERSION,app:1}):(i.config.api_key||i.config.key)&&i.CDN?t=n.getEndpoint("/api/iframe",{url:e.getAttribute("href"),v:i.VERSION,app:1},i.SUPPORTED_QUERY_STRING):console.warn("Iframely cannot build embeds: api key is required as query-string of embed.js");if(t){var o=document.createElement("iframe");o.setAttribute("allowfullscreen",""),o.setAttribute("allow","autoplay; encrypted-media"),e.hasAttribute("data-img")&&o.setAttribute("data-img",e.getAttribute("data-img"));var a=e.hasAttribute("data-lazy")||e.hasAttribute("data-img")||/&lazy=1/.test(t)||i.config.lazy,s=e.textContent||e.innerText;s&&""!==s&&(o.textContent=s);var u=n.getIframeWrapper(e,!0);if(u)for(;u.aspectWrapper.lastChild;)u.aspectWrapper.removeChild(u.aspectWrapper.lastChild);else{u=n.addDefaultWrappers(e);var d=e.parentNode;d.removeChild(e)}u.aspectWrapper.appendChild(o),a?(o.setAttribute("data-iframely-url",t),i.trigger("load",o)):(o.setAttribute("src",t),i.trigger("iframe-ready",o))}else e.removeAttribute("data-iframely-url")}(e)})},function(e,t,r){var n=r(1),i=r(0);function o(e){var t=e.aspectWrapper&&function(e){for(var t=0,r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(n.nodeType===Node.TEXT_NODE){var i=n.textContent||n.innerText;(i=i.replace(/\s|\n/g,""))&&t++}else n.nodeType===Node.ELEMENT_NODE&&t++}return t}(e.aspectWrapper)>1&&function(e,t){for(var r=0,n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(i.nodeType===Node.TEXT_NODE);else if(i.nodeType===Node.ELEMENT_NODE){if(e===r)return i;r++}}}(1,e.aspectWrapper);t&&"DIV"===t.nodeName&&e.aspectWrapper.removeChild(t)}i.on("load",function(e){if(e&&"IFRAME"===e.nodeName&&e.hasAttribute("data-iframely-url")&&e.hasAttribute("data-img")&&!e.getAttribute("src")){e.removeAttribute("data-img");var t=n.getWidget(e),r=e.getAttribute("data-iframely-url");!function(e,t){var r,o=n.parseQueryString(t),a={};for(var s in o)0===s.indexOf("_")&&(a[s]=o[s]);if(t.match(/\/api\/iframe/))r=n.getEndpoint(t.match(/^(.+)\/api\/iframe/i)[1]+"/api/thumbnail",Object.assign({url:o.url,api_key:o.api_key,key:o.key},a));else{if(!t.match(/^(?:https?:)?\/\/[^\/]+\/[a-zA-Z0-9]+(?:\?.*)?$/))return;r=n.getEndpoint(t.replace(/^((?:https?:)?\/\/[^\/]+\/[a-zA-Z0-9]+)((\?.*)?)$/,"$1/thumbnail"),a)}var u=document.createElement("div");n.setStyles(u,{position:"absolute",width:"100%",height:"100%",backgroundImage:"url('"+r+"')",backgroundSize:"cover",backgroundPosition:"center"});var d=document.createElement("div");d.setAttribute("class",i.LOADER_CLASS),u.appendChild(d);var c=i.getElementComputedStyle(e.aspectWrapper,"padding-top"),l=i.getElementComputedStyle(e.aspectWrapper,"padding-bottom"),p=c.match(/^(\d+)px$/);if(p&&parseInt(p[1])&&l){var f=document.createElement("div");n.setStyles(f,{top:"-"+c,width:"100%",height:0,position:"relative",paddingBottom:l}),f.appendChild(u),e.aspectWrapper.appendChild(f)}else e.aspectWrapper.appendChild(u)}(t,r),r=n.addQueryString(r,{img:1}),e.setAttribute("data-iframely-url",r),new d(t),i.trigger("load",e)}}),i.on("message",function(e,t){var r;"widgetRendered"===t.method&&(o(e),(r=u(e))&&r.deactivate()),"begin-waiting-widget-render"===t.method&&(r=u(e))&&r.clearLoadingTimeout(),"end-waiting-widget-render"===t.method&&(r=u(e))&&r.registerLoadingTimeout()});var a=[];function s(e){for(var t=0;t<a.length&&a[t].widget.iframe!==e.iframe;)t++;if(t<a.length&&a[t].widget.iframe===e.iframe)return t}function u(e){var t=s(e);if(t||0===t)return a[t]}function d(e){this.widget=e,this.loadCount=0;var t=e.iframe,r=this;function n(){r.iframeOnLoad()}t.addEventListener?t.addEventListener("load",n):t.attachEvent("onload",n),this.registerLoadingTimeout(),a.push(this)}d.prototype.iframeOnLoad=function(){if(this.loadCount++,2===this.loadCount){this.deactivate();var e=this;setTimeout(function(){o(e.widget)},i.LAZY_IFRAME_FADE_TIMEOUT)}},d.prototype.deactivate=function(){var e;this.clearLoadingTimeout(),((e=s(this))||0===e)&&a.splice(e,1)},d.prototype.clearLoadingTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=null},d.prototype.registerLoadingTimeout=function(){if(!this.timeoutId){var e=this;this.timeoutId=setTimeout(function(){e.iframeOnLoad()},i.LAZY_IFRAME_SHOW_TIMEOUT)}}},function(e,t,r){var n=r(1),i=r(0);i.on("load",function(e){if(!e)for(var t=document.querySelectorAll("iframe[data-iframely-url]"),r=0;r<t.length;r++)i.trigger("load",t[r])}),i.on("load",function(e){e&&"IFRAME"===e.nodeName&&e.hasAttribute("data-iframely-url")&&!e.hasAttribute("data-img")&&!e.getAttribute("src")&&function(e){var t=n.getWidget(e),r=e.getAttribute("data-iframely-url");t&&r&&(r=n.getEndpoint(r,{lazy:i.config.intersection,v:i.VERSION,app:1}));e.setAttribute("src",r),e.removeAttribute("data-iframely-url"),i.trigger("iframe-ready",e)}(e)})},function(e,t,r){var n=r(0);n.on("message",function(e,t){"cancelWidget"===t.method&&n.cancelWidget(e)}),n.cancelWidget=function(e){if(e){var t=e.maxWidthWrapper&&e.maxWidthWrapper.parentNode,r=e.maxWidthWrapper;if(n.config&&n.config.parent){var i=function(e,t){for(var r=!1;!r&&e.parentNode;)r=(e=e.parentNode).className&&e.className.split(" ").indexOf(t)>=0;return r&&e}(e.maxWidthWrapper,n.config.parent);i&&(t=i.parentNode,r=i)}if(e.url){var o=e.iframe&&(e.iframe.textContent||e.iframe.innerText);n.triggerAsync("cancel",e.url,t,o,r.nextSibling)}t.removeChild(r)}else console.warn("iframely.cancelWidget called without widget param")}},function(e,t,r){var n=r(1),i=r(0);i.on("message",function(e,t){if("setIframelyWidgetSize"===t.method||"resize"===t.method||"setIframelyEmbedData"===t.method){var r={};t.data&&t.data.media&&t.data.media.frame_style?(t.data.media.frame_style.split(";").forEach(function(e){if(""!==e.trim()&&e.indexOf(":")>-1){var t=e.split(":");2===t.length&&(r[t[0].trim()]=t[1].trim())}}),s(e,r)):"setIframelyEmbedData"===t.method&&s(e,null),function(e,t){if(t&&Object.keys(t).length>0&&e){var r=function(e){var t=e.iframe&&e.iframe.style.border||e.aspectWrapper&&e.aspectWrapper.style.border,r=t&&t.match(/(\d+)px/)||0;r&&(r=parseInt(r[1]),r*=2);return r}(e),o=window.getComputedStyle&&window.getComputedStyle(e.iframe).getPropertyValue("height");n.setStyles(e.maxWidthWrapper,{"max-width":t["max-width"]&&t["max-width"]+r,"min-width":t["min-width"]&&t["min-width"]+r,width:t.width&&t.width+r}),t.scrolling&&e.iframe&&e.iframe.setAttribute("scrolling",t.scrolling);var a=t["aspect-ratio"];n.setStyles(e.aspectWrapper,{paddingBottom:a?Math.round(1e5/a)/1e3+"%":0,paddingTop:a&&t["padding-bottom"],height:a?0:t.height&&t.height+r});var s=window.getComputedStyle&&window.getComputedStyle(e.iframe).getPropertyValue("height");o&&o!==s&&i.triggerAsync("heightChanged",e.iframe,o,s)}}(e,t.data&&t.data.media||{height:t.height})}});var o={border:"","border-radius":"","box-shadow":"",overflow:""},a={border:"0","border-radius":"","box-shadow":"",overflow:""};function s(e,t){t&&e&&e.iframe?t["border-radius"]?(t.overflow="hidden",n.setStyles(e.aspectWrapper,t)):n.setStyles(e.iframe,t):!t&&e&&e.iframe&&(n.setStyles(e.aspectWrapper,o),n.setStyles(e.iframe,a))}},function(e,t,r){var n=r(0);n.on("message",function(e,t){"open-href"!==t.method&&"click"!==t.method||n.trigger(t.method,t.href)}),n.on("open-href",function(e){n.triggerAsync("click",e),0===e.indexOf(window.location.origin)?window.location.href=e:window.open(e,"_blank")})},function(e,t,r){var n=r(0);n.on("message",function(e,t){"setIframelyEmbedOptions"===t.method&&n.trigger("options",e,t.data)})},function(e,t,r){var n=r(0);n.widgets=n.widgets||{},n.widgets.load=n.load,n.events||(n.events={},n.events.on=n.on,n.events.trigger=n.trigger),n.on("cancel",function(e,t,r,n){if(e&&t&&r&&""!==r){var i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("target","_blank"),i.textContent=r,n?t.insertBefore(i,n):t.appendChild(i)}})},,function(e,t,r){r(3);var n=r(0);n._loaded||(n._loaded=!0,r(4),r(5),r(7),r(8),r(9),r(10),r(11),r(19),r(12),r(13),r(14),r(15),r(16),n.trigger("init")),t.iframely=n},function(e,t,r){var n,i=r(20),o=r(0),a={threshold:1};var s=[];function u(e){e.forEach(function(e){if(e.isIntersecting){var t=function(e){for(var t,r=0;r<s.length&&!t;)s[r].elem===e&&(t=s[r]),r++;return t}(e.target);t&&t.play()}})}"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&o.on("iframe-ready",function(e){var t=new i.Player(e);t.on("ready",function(){s.push(t),(n||new IntersectionObserver(u,a)).observe(e)})})},function(e,t,r){var n;
/*! Player.js - v0.1.0 - 2017-10-24
* http://github.com/embedly/player.js
* Copyright (c) 2017 Embedly; Licensed BSD */
/*! Player.js - v0.1.0 - 2017-10-24
* http://github.com/embedly/player.js
* Copyright (c) 2017 Embedly; Licensed BSD */
!function(i,o){var a={};function s(e){return function(){var t={method:e},r=Array.prototype.slice.call(arguments);/^get/.test(e)?(a.assert(r.length>0,"Get methods require a callback."),r.unshift(t)):(/^set/.test(e)&&(a.assert(0!==r.length,"Set methods require a value."),t.value=r[0]),r=[t]),this.send.apply(this,r)}}a.DEBUG=!1,a.VERSION="0.0.11",a.CONTEXT="player.js",a.POST_MESSAGE=!!i.postMessage,a.origin=function(e){return"//"===e.substr(0,2)&&(e=i.location.protocol+e),e.split("/").slice(0,3).join("/")},a.addEvent=function(e,t,r){e&&(e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r)},a.log=function(){a.log.history=a.log.history||[],a.log.history.push(arguments),i.console&&a.DEBUG&&i.console.log(Array.prototype.slice.call(arguments))},a.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},a.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},a.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isNone=function(e){return null==e},a.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.indexOf=function(e,t){if(null==e)return-1;var r=0,n=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;r<n;r++)if(e[r]===t)return r;return-1},a.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},a.Keeper=function(){this.init()},a.Keeper.prototype.init=function(){this.data={}},a.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},a.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(a.isNone(t))return!0;for(var r=this.data[e],n=0;n<r.length;n++)if(r[n].id===t)return!0;return!1},a.Keeper.prototype.add=function(e,t,r,n,i){var o={id:e,event:t,cb:r,ctx:n,one:i};this.has(t)?this.data[t].push(o):this.data[t]=[o]},a.Keeper.prototype.execute=function(e,t,r,n){if(!this.has(e,t))return!1;for(var i=[],o=[],s=0;s<this.data[e].length;s++){var u=this.data[e][s];a.isNone(t)||!a.isNone(t)&&u.id===t?(o.push({cb:u.cb,ctx:u.ctx?u.ctx:n,data:r}),!1===u.one&&i.push(u)):i.push(u)}0===i.length?delete this.data[e]:this.data[e]=i;for(var d=0;d<o.length;d++){var c=o[d];c.cb.call(c.ctx,c.data)}},a.Keeper.prototype.on=function(e,t,r,n){this.add(e,t,r,n,!1)},a.Keeper.prototype.one=function(e,t,r,n){this.add(e,t,r,n,!0)},a.Keeper.prototype.off=function(e,t){var r=[];if(!this.data.hasOwnProperty(e))return r;for(var n=[],i=0;i<this.data[e].length;i++){var o=this.data[e][i];a.isNone(t)||o.cb===t?a.isNone(o.id)||r.push(o.id):n.push(o)}return 0===n.length?delete this.data[e]:this.data[e]=n,r},a.Player=function(e,t){if(!(this instanceof a.Player))return new a.Player(e,t);this.init(e,t)},a.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},a.EVENTS.all=function(){var e=[];for(var t in a.EVENTS)a.has(a.EVENTS,t)&&a.isString(a.EVENTS[t])&&e.push(a.EVENTS[t]);return e},a.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},a.METHODS.all=function(){var e=[];for(var t in a.METHODS)a.has(a.METHODS,t)&&a.isString(a.METHODS[t])&&e.push(a.METHODS[t]);return e},a.READIED=[],a.Player.prototype.init=function(e,t){var r=this;a.isString(e)&&(e=o.getElementById(e)),this.elem=e,a.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),a.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=a.origin(e.src),this.keeper=new a.Keeper,this.isReady=!1,this.queue=[],this.events=a.EVENTS.all(),this.methods=a.METHODS.all(),a.POST_MESSAGE?a.addEvent(i,"message",function(e){r.receive(e)}):a.log("Post Message is not Available."),a.indexOf(a.READIED,e.src)>-1?r.loaded=!0:this.elem.onload=function(){r.loaded=!0}},a.Player.prototype.send=function(e,t,r){if(e.context=a.CONTEXT,e.version=a.VERSION,t){var n=this.keeper.getUUID();e.listener=n,this.keeper.one(n,e.method,t,r)}return this.isReady||"ready"===e.value?(a.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(a.log("Player.queue",e),this.queue.push(e),!1)},a.Player.prototype.receive=function(e){if(a.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},a.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var r=this.queue[t];a.log("Player.dequeue",r),"ready"===e.event&&this.keeper.execute(r.event,r.listener,!0,this),this.send(r)}this.queue=[]},a.Player.prototype.on=function(e,t,r){var n=this.keeper.getUUID();return"ready"===e?this.keeper.one(n,e,t,r):this.keeper.on(n,e,t,r),this.send({method:"addEventListener",value:e,listener:n}),!0},a.Player.prototype.off=function(e,t){var r=this.keeper.off(e,t);if(a.log("Player.off",r),r.length>0)for(var n in r)return this.send({method:"removeEventListener",value:e,listener:r[n]}),!0;return!1},a.Player.prototype.supports=function(e,t){a.assert(a.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=a.isArray(t)?t:[t];for(var r="event"===e?this.events:this.methods,n=0;n<t.length;n++)if(-1===a.indexOf(r,t[n]))return!1;return!0};for(var u=0,d=a.METHODS.all().length;u<d;u++){var c=a.METHODS.all()[u];a.Player.prototype.hasOwnProperty(c)||(a.Player.prototype[c]=s(c))}a.addEvent(i,"message",function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&a.READIED.push(t.value.src)}),a.Receiver=function(e,t){this.init(e,t)},a.Receiver.prototype.init=function(e,t){var r=this;this.isReady=!1,this.origin=a.origin(o.referrer),this.methods={},this.supported={events:e||a.EVENTS.all(),methods:t||a.METHODS.all()},this.eventListeners={},this.reject=!(i.self!==i.top&&a.POST_MESSAGE),this.reject||a.addEvent(i,"message",function(e){r.receive(e)})},a.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(a.isObject(e.data))t=e.data;else try{t=i.JSON.parse(e.data)}catch(e){a.log("JSON Parse Error",e)}if(a.log("Receiver.receive",e,t),!t.method)return!1;if(t.context!==a.CONTEXT)return!1;if(-1===a.indexOf(a.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var r=a.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===a.indexOf(this.eventListeners[t.value],r)&&this.eventListeners[t.value].push(r):this.eventListeners[t.value]=[r],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var n=a.indexOf(this.eventListeners[t.value],r);n>-1&&this.eventListeners[t.value].splice(n,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,r)},a.Receiver.prototype.get=function(e,t,r){var n=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var i=this.methods[e];if("get"===e.substr(0,3)){i.call(this,function(t){n.send(e,t,r)})}else i.call(this,t)},a.Receiver.prototype.on=function(e,t){this.methods[e]=t},a.Receiver.prototype.send=function(e,t,r){if(a.log("Receiver.send",e,t,r),this.reject)return a.log("Receiver.send.reject",e,t,r),!1;var n={context:a.CONTEXT,version:a.VERSION,event:e};a.isNone(t)||(n.value=t),a.isNone(r)||(n.listener=r);var o=JSON.stringify(n);i.parent.postMessage(o,""===this.origin?"*":this.origin)},a.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;a.log("Instance.emit",e,t,this.eventListeners[e]);for(var r=0;r<this.eventListeners[e].length;r++){var n=this.eventListeners[e][r];this.send(e,t,n)}return!0},a.Receiver.prototype.ready=function(){a.log("Receiver.ready"),this.isReady=!0;var e={src:i.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},a.HTML5Adapter=function(e){if(!(this instanceof a.HTML5Adapter))return new a.HTML5Adapter(e);this.init(e)},a.HTML5Adapter.prototype.init=function(e){a.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new a.Receiver;e.addEventListener("playing",function(){t.emit("play")}),e.addEventListener("pause",function(){t.emit("pause")}),e.addEventListener("ended",function(){t.emit("ended")}),e.addEventListener("timeupdate",function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})}),e.addEventListener("progress",function(){t.emit("buffered",{percent:e.buffered.length})}),t.on("play",function(){e.play()}),t.on("pause",function(){e.pause()}),t.on("getPaused",function(t){t(e.paused)}),t.on("getCurrentTime",function(t){t(e.currentTime)}),t.on("setCurrentTime",function(t){e.currentTime=t}),t.on("getDuration",function(t){t(e.duration)}),t.on("getVolume",function(t){t(100*e.volume)}),t.on("setVolume",function(t){e.volume=t/100}),t.on("mute",function(){e.muted=!0}),t.on("unmute",function(){e.muted=!1}),t.on("getMuted",function(t){t(e.muted)}),t.on("getLoop",function(t){t(e.loop)}),t.on("setLoop",function(t){e.loop=t})},a.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},a.JWPlayerAdapter=function(e){if(!(this instanceof a.JWPlayerAdapter))return new a.JWPlayerAdapter(e);this.init(e)},a.JWPlayerAdapter.prototype.init=function(e){a.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new a.Receiver;this.looped=!1,e.on("pause",function(){t.emit("pause")}),e.on("play",function(){t.emit("play")}),e.on("time",function(e){var r=e.position,n=e.duration;if(!r||!n)return!1;var i={seconds:r,duration:n};t.emit("timeupdate",i)});var r=this;e.on("complete",function(){!0===r.looped?e.seek(0):t.emit("ended")}),e.on("error",function(){t.emit("error")}),t.on("play",function(){e.play(!0)}),t.on("pause",function(){e.pause(!0)}),t.on("getPaused",function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())}),t.on("getCurrentTime",function(t){t(e.getPosition())}),t.on("setCurrentTime",function(t){e.seek(t)}),t.on("getDuration",function(t){t(e.getDuration())}),t.on("getVolume",function(t){t(e.getVolume())}),t.on("setVolume",function(t){e.setVolume(t)}),t.on("mute",function(){e.setMute(!0)}),t.on("unmute",function(){e.setMute(!1)}),t.on("getMuted",function(t){t(!0===e.getMute())}),t.on("getLoop",function(e){e(this.looped)},this),t.on("setLoop",function(e){this.looped=e},this)},a.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},a.MockAdapter=function(){if(!(this instanceof a.MockAdapter))return new a.MockAdapter;this.init()},a.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval(function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})},250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new a.Receiver;t.on("play",function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}}),t.on("pause",function(){e.pause(),this.emit("pause")}),t.on("getPaused",function(t){t(!e.playing)}),t.on("getCurrentTime",function(t){t(e.currentTime)}),t.on("setCurrentTime",function(t){e.currentTime=t}),t.on("getDuration",function(t){t(e.duration)}),t.on("getVolume",function(t){t(e.volume)}),t.on("setVolume",function(t){e.volume=t}),t.on("mute",function(){e.mute=!0}),t.on("unmute",function(){e.mute=!1}),t.on("getMuted",function(t){t(e.mute)}),t.on("getLoop",function(t){t(e.loop)}),t.on("setLoop",function(t){e.loop=t})},a.MockAdapter.prototype.ready=function(){this.receiver.ready()},a.VideoJSAdapter=function(e){if(!(this instanceof a.VideoJSAdapter))return new a.VideoJSAdapter(e);this.init(e)},a.VideoJSAdapter.prototype.init=function(e){a.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new a.Receiver;e.on("pause",function(){t.emit("pause")}),e.on("play",function(){t.emit("play")}),e.on("timeupdate",function(r){var n=e.currentTime(),i=e.duration();if(!n||!i)return!1;var o={seconds:n,duration:i};t.emit("timeupdate",o)}),e.on("ended",function(){t.emit("ended")}),e.on("error",function(){t.emit("error")}),t.on("play",function(){e.play()}),t.on("pause",function(){e.pause()}),t.on("getPaused",function(t){t(e.paused())}),t.on("getCurrentTime",function(t){t(e.currentTime())}),t.on("setCurrentTime",function(t){e.currentTime(t)}),t.on("getDuration",function(t){t(e.duration())}),t.on("getVolume",function(t){t(100*e.volume())}),t.on("setVolume",function(t){e.volume(t/100)}),t.on("mute",function(){e.volume(0)}),t.on("unmute",function(){e.volume(1)}),t.on("getMuted",function(t){t(0===e.volume())}),t.on("getLoop",function(t){t(e.loop())}),t.on("setLoop",function(t){e.loop(t)})},a.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}(window,document)}]);
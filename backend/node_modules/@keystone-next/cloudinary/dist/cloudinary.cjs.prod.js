'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _objectSpread = require('@babel/runtime/helpers/objectSpread2');
var _objectWithoutProperties = require('@babel/runtime/helpers/objectWithoutProperties');
var path = require('path');
var fieldsCloudinaryImage = require('@keystonejs/fields-cloudinary-image');
var fileAdapters = require('@keystonejs/file-adapters');

function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }

var path__default = /*#__PURE__*/_interopDefault(path);

const cloudinaryImage = (_ref) => {
  let {
    cloudinary
  } = _ref,
      config = _objectWithoutProperties(_ref, ["cloudinary"]);

  return {
    type: fieldsCloudinaryImage.CloudinaryImage,
    config: _objectSpread(_objectSpread({}, config), {}, {
      // @ts-ignore
      adapter: new fileAdapters.CloudinaryAdapter(cloudinary)
    }),
    views: path__default['default'].join(path__default['default'].dirname(require.resolve('@keystone-next/cloudinary/package.json')), 'views')
  };
};

exports.cloudinaryImage = cloudinaryImage;

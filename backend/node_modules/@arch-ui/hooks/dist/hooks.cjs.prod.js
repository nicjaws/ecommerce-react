"use strict";

Object.defineProperty(exports, "__esModule", {
  value: !0
});

var ResizeObserver = require("resize-observer-polyfill"), react = require("react");

function _interopDefault(e) {
  return e && e.__esModule ? e : {
    default: e
  };
}

var ResizeObserver__default = _interopDefault(ResizeObserver);

function useMeasure(ref) {
  let [snapshot, setSnapshot] = react.useState(() => ({
    height: 0,
    width: 0
  }));
  return react.useLayoutEffect(() => {
    let element = ref.current;
    if (null !== element) {
      let resizeObserver = new ResizeObserver__default.default(([entry]) => {
        const height = entry.target.offsetHeight, width = entry.target.offsetWidth;
        width === snapshot.width && height === snapshot.height || setSnapshot({
          width: width,
          height: height
        });
      });
      return resizeObserver.observe(element), () => {
        resizeObserver.unobserve(element);
      };
    }
  }), snapshot;
}

exports.useMeasure = useMeasure;
